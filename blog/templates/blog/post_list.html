{% extends 'blog/base.html' %}

{% block content %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'post_list.css' %}">

    <div class="container">
        <div class="sidebar">
            <h2>Profile</h2>
            <p>This is Red Team's Blog Page</p>
            <a href="{% url 'post_new' %}" class="top-menu">{% include './icons/file-earmark-plus.svg' %} Post</a>
        </div>
        {% for post in posts %}
        <article class="media content-section">
            <div class="media-body">
                <div class="article-metadata">
                    <h2><a href="{% url 'post_detail' pk=post.pk %}">{{ post.title }}</a></h2>
                    <p>{{ post.text }}</p>
                    <time>published: {{ post.published_date }}</time>
                    <p>By <a href="{% url 'post_detail' pk=post.author.pk %}">{{ post.author }}</a></p>
                    <div class="votes">
                        <span>Upvotes: {{ post.upvotes.count }}</span>
                        <span>Downvotes: {{ post.downvotes.count }}</span>
                    </div>
                    <div class="vote-buttons">
                        <a href="{% url 'upvote_post' post.id %}" class="btn upvote-btn">Upvote</a>
                        <a href="{% url 'downvote_post' post.id %}" class="btn downvote-btn">Downvote</a>
                    </div>
                    <div class="post-actions">
                        <a href="{% url 'post_edit' pk=post.pk %}" class="btn edit-btn">Edit</a>
                        <a href="{% url 'post_delete' pk=post.pk %}" class="btn delete-btn">Delete</a>
                    </div>
                </div>
            </div>
        </article>        
        {% endfor %}
    </div>
{% endblock %}
